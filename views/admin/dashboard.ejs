<%- layout("layout/boilerplate") %>

<div class="content">
  <div class="admin-container">

    <h1 class="admin-title">Admin Dashboard</h1>

    <!-- Users Summary Table -->
    <div class="admin-card">
      <h3 style="margin-bottom: 12px;">Users Summary</h3>

      <table class="admin-table">
        <thead>
          <tr>
            <th>Username</th>
            <th>Email</th>
            <th>Login Count</th>
            <th>Role</th>
          </tr>
        </thead>
        <tbody>
          <% if (users && users.length > 0) { %>
            <% users.forEach(u => { %>
              <tr>
                <td><%= u.username %></td>
                <td><%= u.email %></td>
                <td><%= u.loginCount || 0 %></td>
                <td>
                  <% if (u.isAdmin) { %>
                    <span class="badge-admin">Admin</span>
                  <% } else { %>
                    User
                  <% } %>
                </td>
              </tr>
            <% }) %>
          <% } else { %>
            <tr>
              <td colspan="4" class="text-center">No users found</td>
            </tr>
          <% } %>
        </tbody>
      </table>
    </div>

  </div>
</div>

<style>
.admin-container {
  padding: 25px;
}
.admin-title {
  font-size: 26px;
  font-weight: 700;
  margin-bottom: 20px;
  color: #2d2f31;
}
.admin-card {
  background: #fff;
  padding: 20px;
  border-radius: 14px;
  box-shadow: 0px 5px 20px rgba(0,0,0,0.08);
  border: 1px solid #ececec;
  margin-bottom: 25px;
}
.admin-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
  font-size: 15px;
}
.admin-table th {
  background: #003cff;
  color: #fff;
  text-align: left;
  padding: 12px;
  font-weight: 600;
}
.admin-table td {
  padding: 12px;
  border-bottom: 1px solid #eee;
}
.admin-table tr:hover {
  background: #f7faff;
  transition: 0.2s ease-in-out;
}
.badge-admin {
  background: #00c853;
  color: white;
  padding: 4px 10px;
  font-size: 12px;
  border-radius: 50px;
}
</style>
